# Condition DSL Playground Pilot

The Condition Playground is a **local-only** harness to trial the upcoming Flex policy expression DSL before it touches live policies. Use it to familiarise yourself with the syntax, gather UX feedback, and validate example payloads.

## Enabling the playground

- Start the SPA with `npm run dev`.
- Opt in via **either** of the following (both default to disabled):
  - Set `VITE_ENABLE_CONDITION_PLAYGROUND=true` in your local `.env`.
  - Append `?condition_playground=1` to the dev server URL.
- The route lives at `/dev/condition-playground` and is intentionally excluded from production bundles/navigation.

## What you can do

- Author DSL expressions with inline autocomplete powered by a fake variable catalog.
- Review the JSON-Logic output generated by the mock transpiler in real time.
- Toggle between canned sample payloads to evaluate the expression result.
- Copy the DSL or JSON-Logic to the clipboard for easy sharing.
- Trigger the “share feedback” CTA, which currently logs to the console as a telemetry stub.

## Known gaps

- Parser is a lightweight mock. It only supports comparisons (`<`, `>`, `<=`, `>=`, `==`, `!=`), boolean operators (`&&`, `||`, `!`), numbers, strings, and booleans.
- Array helpers (e.g. `includes`) and more advanced functions arrive with Story 9.2.
- JSON-Logic evaluation is client-only and not persisted anywhere.
- Clipboard access depends on browser permissions; a fallback is provided but may not work in all contexts.
- Feedback button does not wire into real telemetry yet; it is a placeholder for future instrumentation.

## Next steps

- Collect operator feedback on editor affordances.
- Validate additional sample payloads as they’re proposed.
- Track DSL syntax requests for prioritisation in Stories 9.2/9.3.
