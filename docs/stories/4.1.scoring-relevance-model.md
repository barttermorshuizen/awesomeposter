# Story 4.1: Relevance Scoring Engine

## Status
Draft

## Story
**As the** discovery agent scoring service,
**I want** to assign a relevance score to each normalized item,
**so that** only high-value nuggets reach reviewers.

## Acceptance Criteria
1. Relevance score calculated as weighted sum of keyword match, recency decay, and source weight; output normalized between 0 and 1.
2. Default weights configurable per client via configuration service without redeploy.
3. Scores stored with metadata (`score`, `components`, `threshold`) alongside the item record.
4. Items below client threshold marked `filtered` and excluded from `Spotted` briefs but retained for auditing.

## Tasks / Subtasks
- [ ] Implement scoring module with pluggable weight providers (AC 1, AC 2).
- [ ] Persist scoring results and filtered flag in datastore (AC 3, AC 4).
- [ ] Expose admin endpoint to update client thresholds/weights (AC 2).
- [ ] Emit SSE `scoring.completed` with score payload (AC 3).
- [ ] Write unit tests covering component calculations and normalization (AC 1).

## Dev Notes
- Recency decay can default to exponential with half-life 24h; allow config override later.
- Ensure filtered items accessible for debugging via internal admin view.

### Testing
- Unit: evaluate fixtures with known scores.
- Integration: pipeline test from normalized item â†’ scoring output persisted.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-03-29 | 0.1 | Draft for Epic: Scoring & Deduplication. | PM |

## Dev Agent Record
_Not yet worked._
