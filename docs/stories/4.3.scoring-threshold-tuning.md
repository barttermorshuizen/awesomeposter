# Story 4.3: Runtime Threshold Tuning

## Status
Draft

## Story
**As a** product operator,
**I want** to tune scoring thresholds without redeploying services,
**so that** we can maintain ≥95% accuracy during pilot.

## Acceptance Criteria
1. Admin endpoint or CLI command updates client-specific weights/thresholds; changes propagate within 5 minutes.
2. All updates logged with actor, timestamp, old/new values.
3. Scoring service reloads configuration without downtime; in-flight jobs use latest config once they start.
4. Configuration history available for auditing (last 10 changes per client).

## Tasks / Subtasks
- [ ] Implement configuration store (DB table or feature flag system) with history tracking (AC 1, AC 4).
- [ ] Create secure admin endpoint/CLI requiring auth scope (AC 1, AC 2).
- [ ] Update scoring service to watch config and refresh caching layer (AC 3).
- [ ] Emit telemetry event `scoring.configUpdated` with summary details (AC 2).
- [ ] Write tests for config reload and history retention (AC 3, AC 4).

## Dev Notes
- Consider existing feature flag tooling; ensure writes are idempotent.
- Align with Telemetry epic for recording configuration change counts.

### Testing
- Unit: mock config updates while scoring pipeline running.
- Integration: end-to-end update → verify new threshold applied to subsequent items.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-03-29 | 0.1 | Draft for Epic: Scoring & Deduplication. | PM |

## Dev Agent Record
_Not yet worked._
